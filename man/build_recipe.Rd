% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_build_recipe.R
\name{build_recipe}
\alias{build_recipe}
\title{Build Modeling Recipe with Spectral and Covariate Transformations}
\usage{
build_recipe(
  input_data,
  spectral_transformation,
  response_transformation,
  covariate_selection = NULL,
  covariate_data = NULL
)
}
\arguments{
\item{input_data}{A data frame with spectral predictors and a response variable named \code{Response}.
Must include a \code{Sample_ID} column to enable covariate alignment.}

\item{spectral_transformation}{Character string specifying spectral preprocessing method.
Valid options include:
\itemize{
\item{"No Preprocessing"}
\item{"Savitzky Golay - 0 Deriv"}
\item{"Savitzky Golay - 1 Deriv"}
\item{"Standard Normal Variate - Savitzky Golay - 0 Deriv"}
\item{"Standard Normal Variate - Savitzky Golay - 1 Deriv"}
}}

\item{response_transformation}{Character string specifying transformation to apply to the response variable.
Valid options include:
\itemize{
\item{"No Transformation"}
\item{"Log Transformation"}
\item{"Square Root Transformation"}
}}

\item{covariate_selection}{Character vector of covariate names to include. Use \code{"No Covariates"} or \code{NULL} to exclude.}

\item{covariate_data}{Optional data frame of covariates (must include a \code{Sample_ID} column). Required if covariates are selected.}
}
\value{
A \code{recipes::recipe} object with all preprocessing and transformation steps applied.
}
\description{
Constructs a \code{recipe} object for use in tidymodels workflows. This function applies
user-defined response transformations (e.g., log, square root), spectral preprocessing
via custom steps (e.g., SNV + SG), optional PCA-based dimensionality reduction, and
covariate injection from an external dataset. Designed to be modular and composable
for ensemble modeling workflows.
}
\examples{
\dontrun{
# Example usage
input_df <- dplyr::tibble(
  Sample_ID = 1:3,
  `Dim.1` = rnorm(3),
  `Dim.2` = rnorm(3),
  Response = c(2.1, 3.5, 1.8)
)

covariates_df <- dplyr::tibble(
  Sample_ID = 1:3,
  clay = c(10, 20, 30),
  pH = c(6.5, 6.8, 7)
)

build_recipe(input_data              = input_df,
             spectral_transformation = "Savitzky Golay - 0 Deriv",
             response_transformation = "Log Transformation",
             covariate_selection     = c("clay", "pH"),
             covariate_data          = covariates_df)
}

}
\seealso{
\code{\link{step_transform_spectra}}, \code{\link{step_add_covariates}}, \code{\link{build_model_grid}}
}
\keyword{internal}
