% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/input_create_raw.R
\name{create_input_data}
\alias{create_input_data}
\title{Create Input Data for Spectral Modeling}
\usage{
create_input_data(
  include = character(),
  variables = character(),
  save_spectra = FALSE,
  save_locale = NA
)
}
\arguments{
\item{include}{A character vector of project identifiers to include (e.g., \code{"MOYS"}, \code{"AGRO"}).}

\item{variables}{A character vector of soil physicochemical variable names to join (e.g., \code{"Sand"}, \code{"pH"}, \code{"SOC"}).}

\item{save_spectra}{Logical; should the output dataset be saved as an \code{.rds} file? Defaults to \code{FALSE}.}

\item{save_locale}{Optional character string specifying the path where the dataset should be saved
(only required if \code{save_spectra = TRUE}).}
}
\value{
A wide-format tibble with:
\itemize{
\item{One row per Sample_ID and soil fraction}
\item{Columns for 600–4000 cm⁻¹ wavenumber absorbance values (2 cm⁻¹ spacing)}
\item{Joined soil property columns specified by \code{variables}}
}
}
\description{
Imports and formats raw OPUS spectral data into a wide-format absorbance matrix
joined to selected soil physicochemical properties. Applies trimming and resampling
to a common wavenumber range (600–4000 cm⁻¹) at 2 cm⁻¹ intervals. No spectral transformations are applied.
}
\details{
The function workflow consists of:
\enumerate{
\item{Locating OPUS spectral files for specified projects.}
\item{Reading, trimming, and resampling each spectrum.}
\item{Averaging replicate scans for the same sample.}
\item{Pivoting spectra to wide format (one column per wavenumber).}
\item{Joining soil physicochemical data.}
}
Spectra are resampled to a common grid to ensure compatibility across samples.
}
\examples{
\dontrun{
# Example usage
df <- create_input_data(
  include       = c("MOYS"),
  variables     = c("Sand", "pH"),
  save_spectra  = FALSE
)

glimpse(df)
}

}
\seealso{
\code{\link{read_spectral_data}}, \code{\link{join_physicochemical_data}}, \code{\link{predict_covariates}}
}
