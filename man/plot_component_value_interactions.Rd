% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visuals-plot_component_value_interactions.R
\name{plot_component_value_interactions}
\alias{plot_component_value_interactions}
\title{Enhanced Component Interaction Analysis and Visualization}
\usage{
plot_component_value_interactions(
  results_data,
  metric = "rrmse",
  components = c("ModelType", "Transformation", "Preprocessing", "Feature_Selection",
    "Covariates"),
  covariate_handling = c("aggregate", "detailed", "simplified"),
  cluster_components = TRUE,
  significance_test = FALSE,
  min_observations = 2,
  color_palette = c("default", "viridis", "plasma"),
  title = NULL
)
}
\arguments{
\item{results_data}{A data frame containing model evaluation results with at minimum:
\code{config_desc} column with workflow identifiers and performance metric columns.}

\item{metric}{Character. Performance metric to analyze (e.g., "rrmse", "rsq", "rmse").
Must be a column name in \code{results_data}.}

\item{components}{Character vector. Pipeline components to analyze interactions between.
Default: \code{c("ModelType", "Transformation", "Preprocessing", "Feature_Selection", "Covariates")}.}

\item{covariate_handling}{Character. How to handle covariates: "aggregate" (group by presence),
"detailed" (keep individual covariate combinations), or "simplified" (soil/climate/mixed).}

\item{cluster_components}{Logical. Whether to hierarchically cluster components by
interaction similarity for better visualization ordering.}

\item{significance_test}{Logical. Whether to compute statistical significance of interactions
using permutation testing (computationally intensive).}

\item{min_observations}{Integer. Minimum number of observations required for each component
combination to be included in interaction calculations.}

\item{color_palette}{Character. Color scheme: "default" (horizons colors), "viridis", or "plasma".}

\item{title}{Character. Optional plot title. If \code{NULL}, generates automatic title.}
}
\value{
A \code{ggplot2} object showing component interaction effects as a heatmap.
Blue indicates synergistic interactions (components work better together),
red indicates antagonistic interactions (components interfere), and
white indicates independent/additive effects.
}
\description{
Creates comprehensive heatmaps showing synergistic and antagonistic interactions
between different modeling pipeline components. Identifies component combinations
that produce better or worse performance than their individual effects would predict,
critical for understanding optimal pipeline configurations in spectroscopy modeling.
}
\details{
\strong{Interaction Analysis Method:}
Uses ANOVA-style interaction decomposition. For each component pair (A, B):
\enumerate{
\item Computes overall mean performance across all configurations
\item Calculates main effect of component A: mean(A_level) - overall_mean
\item Calculates main effect of component B: mean(B_level) - overall_mean
\item For each A×B combination, computes expected = overall + main_A + main_B
\item Interaction effect = observed - expected (averaged across all A×B combinations)
}

\strong{Interpretation:}
\itemize{
\item Positive values (blue): Synergistic - components produce better performance together
\item Negative values (red): Antagonistic - components interfere with each other
\item Zero/near-zero (white): Independent - effects are purely additive
}

\strong{Component Parsing:}
Automatically extracts components from \code{config_desc} using robust pattern matching:
\itemize{
\item ModelType: cubist, random_forest, xgboost, mars, plsr, svm_rbf, etc.
\item Transformation: NoTrans, Log, Sqrt
\item Preprocessing: Raw, SNV, MSC, derivatives, combinations
\item Feature_Selection: PCA, SHAP, Correlation, Boruta
\item Covariates: Complex parsing with optional aggregation
}

\strong{Clustering:}
When \code{cluster_components = TRUE}, uses hierarchical clustering (Ward's method)
on the interaction matrix to group components with similar interaction patterns.
}
\examples{
\\dontrun{
# Basic component interaction analysis
plot_component_value_interactions(
  results_data = batch_summary,
  metric = "rrmse"
)

# Simplified covariate handling with clustering
plot_component_value_interactions(
  results_data = batch_summary,
  metric = "rsq",
  covariate_handling = "simplified",
  cluster_components = TRUE,
  title = "Component Synergies for R-squared"
)

# Detailed analysis with significance testing
plot_component_value_interactions(
  results_data = batch_summary,
  metric = "rrmse", 
  covariate_handling = "detailed",
  significance_test = TRUE,
  min_observations = 5
)
}

}
\seealso{
\\code{\\link{plot_models_radar}}, \\code{\\link{plot_ensemble_upset}},
\\code{\\link{plot_covariate_effects}}, \\code{\\link{horizons_theme}}

Other visualization: 
\code{\link{plot_component_chord_diagram}()},
\code{\link{plot_component_effects_enhanced}()},
\code{\link{plot_component_interactions}()},
\code{\link{plot_component_network_bundling}()},
\code{\link{plot_models_radar}()}
}
\concept{visualization}
