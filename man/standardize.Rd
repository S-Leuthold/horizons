% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pipeline-standardize.R
\name{standardize}
\alias{standardize}
\title{Standardize spectral data}
\usage{
standardize(
  x,
  resample = 2,
  trim = c(600, 4000),
  remove_water = FALSE,
  baseline = FALSE,
  force = FALSE
)
}
\arguments{
\item{x}{\link{horizons_data.} Object from \code{spectra()}.}

\item{resample}{\link{numeric or NULL.} Target resolution in cm⁻¹. Default \code{2}
matches OSSL library resolution. Use \code{NULL} to skip resampling.}

\item{trim}{\link{numeric(2) or NULL.} Wavenumber range to keep. Default
\code{c(600, 4000)} is the standard MIR range. Use \code{NULL} to skip trimming.}

\item{remove_water}{\link{logical.} Remove water absorption bands
(1580-1720, 3100-3700 cm⁻¹)? Default \code{FALSE}.}

\item{baseline}{\link{logical.} Apply convex hull baseline correction?
Default \code{FALSE}.}

\item{force}{\link{logical.} Re-standardize even if already standardized?
Default \code{FALSE}. Not recommended — may cause data quality issues.}
}
\value{
\link{horizons_data.} The input object with standardized spectra.
Provenance is updated to record what operations were applied.
}
\description{
Applies standardization operations to get spectra into a consistent format
for modeling. This includes resampling to a common resolution, trimming to
a wavenumber range, removing water absorption bands, and baseline correction.
}
\details{
\strong{This function handles data shape, not spectral transforms.}

Standardization operations (handled here):
\itemize{
\item Resampling to consistent resolution
\item Trimming to wavenumber range
\item Water band removal
\item Baseline correction
}

Spectral transforms (NOT handled here):
\itemize{
\item SNV (Standard Normal Variate)
\item Derivatives (Savitzky-Golay)
\item Smoothing
}

Spectral transforms are specified via \code{configure()} and applied per-config
during \code{evaluate()}. This separation allows factorial comparison of
preprocessing options.

\strong{Idempotence:} If the object has already been standardized, calling
\code{standardize()} again will warn and return the object unchanged. Use
\code{force = TRUE} to override (not recommended).
}
\examples{
\dontrun{
# Load spectra and standardize to OSSL format
hd <- spectra("path/to/data.csv") |>
  standardize(resample = 2, trim = c(600, 4000))

# Full standardization with water band removal
hd <- spectra("path/to/data.csv") |>
  standardize(resample = 2, trim = c(600, 4000),
              remove_water = TRUE, baseline = TRUE)
}

}
