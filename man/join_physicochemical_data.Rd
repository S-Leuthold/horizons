% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/input_join_physchem_data.R
\name{join_physicochemical_data}
\alias{join_physicochemical_data}
\title{Join Spectral and Physicochemical Data}
\usage{
join_physicochemical_data(spectral_data, projects, variables)
}
\arguments{
\item{spectral_data}{A tibble containing wide-format absorbance data (e.g., one row per sample,
columns = wavenumbers), with columns \code{Project} and \code{Sample_ID}.}

\item{projects}{Character vector of project identifiers. Each must correspond to a \code{.csv} file
in \code{"../../2_Data/1_Input_Data/2_Physicochemical_Data/"}.}

\item{variables}{Character vector of physicochemical variable names to extract and join
(e.g., \code{"Sand"}, \code{"pH"}, \code{"TC"}, etc.).}
}
\value{
A tibble containing only those rows from \code{spectral_data} with
matching physicochemical measurements, joined by \code{Project} and \code{Sample_ID}.
}
\description{
Loads project-level physicochemical datasets from \code{.csv} files and joins them to
a wide-format spectral dataset using \code{Project} and \code{Sample_ID} as keys.
Ensures that only rows with at least one non-missing covariate are retained.
}
\details{
This function:
\enumerate{
\item Loads one \code{.csv} file per project listed in \code{projects}.
\item Converts all non-ID columns to numeric.
\item Selects the specified covariates from each file and removes rows where all are missing.
\item Performs a left join with \code{spectral_data} using Project and Sample_ID.
}
A failed join or missing file will raise an error with a helpful message.
}
\examples{
\dontrun{
# Join absorbance matrix with sand and pH for "MOYS" and "AONR" projects
wide_data <- join_physicochemical_data(
  spectral_data = my_spectra,
  projects = c("MOYS", "AONR"),
  variables = c("Sand", "pH")
)
}

}
\seealso{
\code{\link{create_input_data}}, \code{\link{read_spectral_data}}
}
\keyword{internal}
