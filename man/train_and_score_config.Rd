% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/library-train.R
\name{train_and_score_config}
\alias{train_and_score_config}
\title{Train and Score Single Config}
\usage{
train_and_score_config(
  config,
  train_data,
  property_col,
  grid_size = 5,
  cv_folds = 3,
  resamples = NULL,
  return_workflow = FALSE,
  allow_par = TRUE,
  n_workers = 4,
  seed = 123,
  verbose = FALSE
)
}
\arguments{
\item{config}{Config row from OPTIMAL_CONFIGS_V1}

\item{train_data}{Tibble with training data}

\item{property_col}{Character. OSSL property column name (e.g., "clay.tot_usda.a334_w.pct")}

\item{grid_size}{Integer. Hyperparameter grid points. Default: 5}

\item{cv_folds}{Integer. Cross-validation folds. Default: 3}

\item{resamples}{Optional rsample object. Pre-computed CV folds for shared training.
If NULL (default), folds are created internally using cv_folds.}

\item{return_workflow}{Logical. Return trained workflow? Default: FALSE}

\item{allow_par}{Logical. Allow parallel processing during tuning? Default: TRUE.}

\item{n_workers}{Integer. Number of parallel workers. Default: 4.}

\item{seed}{Integer. Random seed. Default: 123}

\item{verbose}{Logical. Print progress? Default: FALSE}
}
\value{
List with:
\describe{
\item{metrics}{Tibble with rpd, ccc, rsq, rmse from CV}
\item{workflow}{Trained workflow (if return_workflow = TRUE) or NULL}
\item{best_params}{List with optimal hyperparameters}
\item{status}{Character: "success" or "failed"}
}
}
\description{
Trains a single model configuration and extracts performance metrics.
Simplified for library mode - no checkpointing, pruning, or output management.
}
\details{
Core training steps:
\enumerate{
\item Build recipe (preprocessing + feature selection)
\item Define model specification
\item Create workflow
\item Hyperparameter tuning with tune_grid (CV)
\item Select best parameters
\item Extract validation metrics (RPD, CCC, RÂ², RMSE)
\item Optional: Fit final workflow if return_workflow = TRUE
}

For quick config testing: return_workflow = FALSE (discard model, keep metrics)
For final training: return_workflow = TRUE (keep butchered workflow)
}
\keyword{internal}
