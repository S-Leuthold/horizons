% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/step_transform_spectra.R
\name{process_spectra}
\alias{process_spectra}
\title{Apply Spectral Preprocessing to Recipes}
\usage{
process_spectra(input_vector, preprocessing, window_size = 9)
}
\arguments{
\item{preprocessing}{A character string specifying the preprocessing method. See \strong{Details}.}

\item{window_size}{Odd integer specifying the window size for Savitzky-Golay filtering. Default is 9.}

\item{recipe}{A \code{recipes::recipe()} object.}

\item{...}{Selector functions to choose spectral columns (e.g., \code{all_predictors()}).}

\item{role}{Character string describing the variable role for new columns. Default is \code{"predictor"}.}

\item{trained}{Logical. Required by \code{recipes}; indicates if preprocessing parameters are fixed.}

\item{skip}{Logical. Should this step be skipped during \code{bake()}? Default is FALSE.}

\item{id}{Character string. Unique identifier for the step. Auto-generated by default.}
}
\value{
A \code{step_transform_spectra} object that can be added to a recipe.
}
\description{
Adds a preprocessing step to a \code{recipes::recipe()} that transforms row-wise spectral data
using common methods from the \code{prospectr} package. Supported transformations include
Savitzky-Golay derivatives and Standard Normal Variate (SNV).
Intended for use in chemometric modeling workflows with spectra in wide format (columns = wavenumbers).
}
\details{
Supported values for \code{preprocessing} include:
\itemize{
\item \code{"raw"} — Trims edge artifacts based on \code{window_size}, no transformation.
\item \code{"sg"} — Savitzky-Golay smoothing (0th derivative).
\item \code{"snv"} — Standard Normal Variate followed by trimming.
\item \code{"deriv1"} — Savitzky-Golay first derivative.
\item \code{"deriv2"} — Savitzky-Golay second derivative.
\item \code{"snv_deriv1"} — SNV followed by SG first derivative.
\item \code{"snv_deriv2"} — SNV followed by SG second_
}
}
