% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/library-targets.R
\name{texture_to_ilr}
\alias{texture_to_ilr}
\title{Transform Texture to ILR Coordinates}
\usage{
texture_to_ilr(sand, silt, clay, as_proportions = FALSE)
}
\arguments{
\item{sand}{Numeric vector. Sand content (g/kg or proportion).}

\item{silt}{Numeric vector. Silt content (same units as sand).}

\item{clay}{Numeric vector. Clay content (same units as sand).}

\item{as_proportions}{Logical. If FALSE (default), assumes g/kg and converts
to proportions before transformation. If TRUE, assumes inputs already sum to 1.0.}
}
\value{
Matrix with 2 columns (ilr_1, ilr_2) and same number of rows as input.
Coordinates are unbounded (can range -∞ to +∞).
}
\description{
Converts three-part texture composition (sand, silt, clay) to two unconstrained
ILR (Isometric Log-Ratio) coordinates for compositional data analysis.
}
\details{
Texture data are compositional - the three components must sum to a constant
(100\% or 1000 g/kg). This creates a dependency that violates assumptions of
standard regression. ILR transformation:
\enumerate{
\item Reduces dimensionality (3 constrained → 2 unconstrained)
\item Creates orthogonal coordinates (no correlation induced by closure)
\item Allows standard modeling techniques
\item Back-transformation guarantees predictions sum to 100\%
}

The transformation uses the \code{compositions} package implementation which follows
Egozcue et al. (2003) methodology.
}
\section{Validation}{

Checks that input components sum to ~1.0 (if proportions) or ~1000 (if g/kg).
Issues warning if deviation exceeds 1\%.
}

\examples{
\dontrun{
# Transform texture from g/kg
ilr_coords <- texture_to_ilr(
  sand = c(340, 280, 420),
  silt = c(380, 450, 310),
  clay = c(280, 270, 270)
)

# With proportions
ilr_coords <- texture_to_ilr(
  sand = c(0.34, 0.28, 0.42),
  silt = c(0.38, 0.45, 0.31),
  clay = c(0.28, 0.27, 0.27),
  as_proportions = TRUE
)
}

}
\references{
Egozcue, J.J., Pawlowsky-Glahn, V., Mateu-Figueras, G., & Barceló-Vidal, C. (2003).
Isometric logratio transformations for compositional data analysis.
Mathematical Geology, 35(3), 279-300.
}
\keyword{internal}
