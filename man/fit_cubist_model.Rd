% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/covariates-soil-fit_cubist_model.R
\name{fit_cubist_model}
\alias{fit_cubist_model}
\title{Fit a Cubist Model for a Single Covariate Using PCA-Transformed Spectral Data}
\usage{
fit_cubist_model(input_data, covariate, verbose)
}
\arguments{
\item{input_data}{A data frame containing PCA-transformed predictors (\code{Dim.1}, \code{Dim.2}, ..., \code{Dim.50})
and one column matching the \code{covariate} to model as the response.}

\item{covariate}{A character string indicating which covariate to predict (e.g., \code{"Sand"}, \code{"pH"}).}
}
\value{
A list with three elements:
\item{Model}{The finalized, fitted Cubist workflow object.}
\item{Best_Parameters}{A tibble of the optimal hyperparameter values selected via Bayesian optimization.}
\item{Evaluation}{Hold-out evaluation statistics.}
}
\description{
This function builds, tunes, and evaluates a Cubist model for predicting a single
soil covariate from PCA-transformed MIR spectra. It applies an initial grid search
followed by Bayesian optimization for hyperparameter tuning.
}
\details{
The modeling process proceeds in three stages:
\enumerate{
\item{Split input data into training and testing sets with stratification on the response.}
\item{Perform an initial max entropy grid search on committees, neighbors, and max_rules hyperparameters.}
\item{Refine the model via Bayesian optimization, finalize the workflow, and evaluate on a hold-out set.}
}
Parallelization is automatically enabled for tuning phases via \code{future::plan(multisession)}.
}
\examples{
\dontrun{
# Simulated PCA-transformed dataset
df <- tibble::tibble(
  Dim.1 = rnorm(100),
  Dim.2 = rnorm(100),
  Dim.3 = rnorm(100),
  Sand  = runif(100, 50, 80)
)

# Updated example call to use the new function name
result <- fit_cubist_model(input_data = df, covariate = "Sand")
result$Evaluation
}

}
\seealso{
\code{\link{predict_covariates}}, \code{\link{evaluate_predictions}}, \code{\link{reduce_dimensions_pca}} # Updated link
}
\keyword{internal}
