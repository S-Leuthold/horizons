% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/covar_create_training_subsets.R
\name{create_training_subsets}
\alias{create_training_subsets}
\title{Create Clustered Training Subsets Based on PCA Projection}
\usage{
create_training_subsets(
  training_data,
  pca_model,
  kmeans_model,
  n_components,
  coverage = 0.8
)
}
\arguments{
\item{training_data}{A tibble containing spectral data projected onto PCA components
(e.g., columns \code{Dim.1}, \code{Dim.2}, ..., \code{Dim.n}) and associated metadata.}

\item{pca_model}{A PCA model object created via \code{\link[stats]{prcomp}}.}

\item{kmeans_model}{A fitted k-means clustering model (from \code{\link[stats]{kmeans}}).}

\item{n_components}{Integer. Number of principal components to use when projecting data.}

\item{coverage}{Numeric (between 0 and 1). Proportion of samples within each cluster
to retain based on proximity to the centroid (default = 0.8).}
}
\value{
A named list of tibbles. Each tibble contains the most representative training samples
for a given cluster (e.g., "Cluster_1", "Cluster_2", etc.).
}
\description{
Projects training samples into PCA space, assigns them to clusters based on distance
to k-means centroids, and selects a representative subset of samples within each cluster.
The closest samples to the cluster center are retained according to a user-specified coverage proportion.
}
\details{
This method prioritizes samples closest to the cluster center in PCA space, improving calibration efficiency
by removing outliers and redundant points. Coverage can be tuned to balance model robustness and training size.
}
\examples{
\dontrun{
training_subsets <- create_training_subsets(training_data = my_data,
                                            pca_model     = my_pca_model,
                                            kmeans_model  = my_kmeans_model,
                                            n_components  = 50,
                                            coverage      = 0.8)
}

}
\seealso{
\code{\link[stats]{prcomp}}, \code{\link[stats]{kmeans}}, \code{\link[stats]{quantile}}
}
\keyword{internal}
