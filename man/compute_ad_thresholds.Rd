% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/library-clustering.R
\name{compute_ad_thresholds}
\alias{compute_ad_thresholds}
\title{Compute Applicability Domain Thresholds per Cluster}
\usage{
compute_ad_thresholds(cluster_data, percentiles = c(0.95, 0.995))
}
\arguments{
\item{cluster_data}{Tibble with columns:
\itemize{
\item cluster_id: Integer cluster assignment
\item mahalanobis_dist: Numeric Mahalanobis distance to centroid
}}

\item{percentiles}{Numeric vector. Percentiles to compute (0-1). Default: c(0.95, 0.995)}
}
\value{
Tibble with:
\describe{
\item{cluster_id}{Cluster ID}
\item{p95}{95th percentile threshold (soft zone)}
\item{p995}{99.5th percentile threshold (hard zone)}
\item{...}{Additional percentiles if specified}
}
}
\description{
Calculates percentile-based Mahalanobis distance thresholds for each cluster
to define applicability domain boundaries. Used to flag samples that are far
from training data (out-of-distribution).
}
\details{
Computes empirical thresholds (e.g., 95th, 99.5th percentiles) of Mahalanobis
distances within each cluster. Samples beyond these thresholds are:
\itemize{
\item Soft zone (p95-p99.5): Inflate prediction intervals
\item Hard zone (>p99.5): Abstain from prediction or flag as unreliable
}
}
\keyword{internal}
