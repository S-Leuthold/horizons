% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/evaluation-finalize.R
\name{finalize_top_workflows}
\alias{finalize_top_workflows}
\title{Finalize Top Models for Ensemble Stacking}
\usage{
finalize_top_workflows(
  evaluation_results,
  input_data,
  covariate_data = NULL,
  variable,
  n_best = 10,
  metric = "rrmse",
  output_dir = NULL,
  train_prop = 0.8,
  bayesian_iter = 15,
  cv_folds = 10,
  seed = 123,
  parallel_cv = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{evaluation_results}{Tibble from evaluate_models_local() or evaluate_models_hpc()
containing model metrics and best_params}

\item{input_data}{Tibble containing spectral features and response variable}

\item{covariate_data}{Optional tibble containing external covariates}

\item{variable}{Character. Name of the response variable}

\item{n_best}{Integer. Number of top models to finalize (default: 10)}

\item{metric}{Character. Metric to use for selecting top models: "rrmse", "ccc", "rsq" (default: "rrmse")}

\item{output_dir}{Character. Directory to save finalized workflows (default: tempdir())}

\item{train_prop}{Numeric. Proportion of data for training (default: 0.8)}

\item{bayesian_iter}{Integer. Additional Bayesian optimization iterations (default: 15)}

\item{cv_folds}{Integer. Cross-validation folds for stacking predictions (default: 10)}

\item{seed}{Integer. Random seed for reproducibility (default: 123)}

\item{parallel_cv}{Logical. Enable parallel processing for CV (default: FALSE)}

\item{verbose}{Logical. Print progress information (default: TRUE)}
}
\value{
Tibble with finalized model information and saved paths
}
\description{
Takes evaluation results and refits the top-performing models with additional
Bayesian optimization iterations, then saves them with CV predictions for ensemble stacking.
}
