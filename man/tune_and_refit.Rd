% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stack-tune_refit_models.R
\name{tune_and_refit}
\alias{tune_and_refit}
\title{Tune and Refit a Workflow Using Bayesian Optimization}
\usage{
tune_and_refit(
  wflow,
  resamples,
  iter = 20,
  metrics,
  control_bayes,
  control_refit,
  verbose = TRUE
)
}
\arguments{
\item{wflow}{A \code{workflow} object to be tuned and refit.}

\item{resamples}{A resampling object created by \code{vfold_cv()} or similar.}

\item{metrics}{A metric set created with \code{yardstick::metric_set()} to guide tuning.}

\item{control_bayes}{A control object for Bayesian tuning, e.g., from \code{control_bayes()}.}

\item{control_refit}{A control object for model refitting, e.g., from \code{control_resamples()}.}
}
\value{
A fitted resamples object (from \code{fit_resamples()}), ready for stacking.
}
\description{
This function performs hyperparameter tuning using \code{tune_bayes()} on a given
\code{workflow} object using the provided cross-validation resamples, then finalizes
the workflow with the best hyperparameters (by RRMSE) and refits it using
\code{fit_resamples()}.
}
\details{
Intended for internal use within the Horizons model stacking pipeline.
}
\examples{
\dontrun{
res <- tune_and_refit(my_workflow, my_resamples, metric_set(rmse, rsq, rrmse),
                      control_bayes(), control_resamples())
}
internal
}
\keyword{internal}
